# Getting CDN Access

The Wabbajack CDN recognizes Github personal access tokens. These tokens are generated by a user, and should be treated as you would a password: don't share them and revoke them if you think they are stolen. These PATs can be setup with various levels of permissions, so it is important to follow the steps below so you do not create a token that has too broad of information. This will insure that if the token does get leaked, the user can only read/update data in the repository (which could then be undone later by you). Higher level tokens could be used to create new repositories or delete existing account data, so just use the lowest level of permissions and all will be well. As an aside, Wabbajack never stores these tokens to disk, so should you lose them you will need to regenerate them, the Wabbajack admins have no power to recover lost tokens. 

## Creating a Token

To create a token, start by going to Github, logging in, then click on your avatar on the top-right of the screen, and click `Settings`:

![Step1](https://user-images.githubusercontent.com/654621/161365541-f21082d8-ea97-4dcd-a462-bf614221deb2.png)

On the next screen, find `Developer Settings`

![Step2](https://user-images.githubusercontent.com/654621/161365547-03428256-5e49-40b7-a21b-06335dbc8417.png)

Now select `Personal access tokens`

![Step3](https://user-images.githubusercontent.com/654621/161365587-ad0a0589-6765-4b66-983d-1e80f27165dc.png)

Click `Generate new token`

![Step4](https://user-images.githubusercontent.com/654621/161365616-0cf0b484-fe00-4a6f-a210-45e3e68d6ced.png)

You may be asked to enter your password for security reasons. On the next page, select a name for the token (the name doesn't matter). And an expiry date. Github will warn you if you don't set the token to expire, but if you *do* set it to expire you will need to go through these steps again once the token's expire date has passed. It's up to you what to decide what to time length to use here.

Leave all the permissions at the default, except for the ones shown in this image. Wabbajack will need these permissions to see and update your `modlist.json` on your behalf.

![Step10](https://user-images.githubusercontent.com/654621/161394552-61c02f18-6622-47b9-8d98-0955dfbf8c42.png)

Now click "Generate Token"

![Step6](https://user-images.githubusercontent.com/654621/161365721-82f9caf3-c1b3-4724-ab81-c26e6ffffd97.png)

On the final page, click the icon to copy the token to the clipboard. It is recommended that you save this somewhere secure, once you close this browser tab you will never be able to retrieve this token again and you will need to recreate it from scratch.

![Step7](https://user-images.githubusercontent.com/654621/161365754-11491cb8-06e5-493e-a23d-e891688716e7.png)

## Installing the token

Now go to `c:\Users\<your user name>\AppData\Local\Wabbajack` and create a text file called `author-api-key.txt`

![Step8](https://user-images.githubusercontent.com/654621/161365868-b66b646e-28cb-4178-a55c-d7f97260e02e.png)

Open the file, paste your token into it, save the file, and exit your text editor

## Using the CDN

Having this file in your `Wabbajack` folder will enable the CDN upload service. So open Wabbajack and click the `Settings` button, you should see a panel named `File Uploader`:

![Step9](https://user-images.githubusercontent.com/654621/161365931-ef977ad2-2b53-462b-b70e-562cf7de1eb4.png)

Click `Select` to select a file to upload, and `Upload` to upload it. After a successful upload you will be able to see your files at [https://build.wabbajack.org/authored_files](https://build.wabbajack.org/authored_files)

Clicking the `Manage Files` button will take you to a screen that will allow you to see your files and delete any file you no longer need. Space is limited on the CDN, so please delete any files you no longer need, but feel free to upload generated LOD files, .wabbajack files or whatever else you need. 

## Using CDN files

After you have uploaded a file, you can get a link to it from the [authored files page](https://build.wabbajack.org/authored_files). **Note:** do not use the slow links on that page, these links are used for troubleshooting and when users cannot otherwise download a file. They are quite heavy on the server so please use main file link. Right-click on the file link on that page, then click `copy link`.

After you have a link to a file, go to your Mod Organizer 2 folder, and edit the `.meta` file for the file you uploaded. You need only this text in the `.meta` for Wabbajack to be able to source from it:

```ini
[General]
directURL=<link you copied goes here>
```

## Final Notes

Wabbajack staff reserve the right to delete troll files or files including illegal content. We also reserve the right to ban GitHub accounts that repeatedly violated these limitations. We will try to contact you first, and will assume that such problems arise from ignorance rather than malice.  If you have questions about any of these feel free to ask on our official [Discord](https://discord.gg/wabbajack).
